{
  "permissions": {
    "allow": [
      "Bash(./gradlew compileKotlinAndroid:*)",
      "Bash(git add:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nrefactor\\(navigation\\): centralize bottom navigation at app level\n\nImplement Clean Architecture pattern by moving navigation bar to app-level\nas single source of truth. This eliminates duplication and improves\nmaintainability.\n\n**Changes:**\n- Move AppBottomNavigation to App.kt \\(centralized\\)\n- Remove duplicate navigation bars from Home, Progress, Settings screens\n- Simplify screen composables to only render content\n- Update navigators with proper back stack management\n- Fix Settings screen navigation \\(was broken with empty callbacks\\)\n\n**Benefits:**\n- Single source of truth for navigation state\n- No recreation of nav bar on screen transitions\n- Decoupled features \\(SOLID principles\\)\n- Smoother animations and better performance\n- Scalable for adding new features\n\n**Architecture:**\n- App level: Handles cross-feature navigation and persistent UI\n- Feature level: Handles feature-specific content only\n- Follows Clean Architecture dependency rule\n\nFixes navigation consistency issues across all three main screens.\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(grep:*)",
      "Bash(git commit:*)",
      "Bash(Select-Object -First 50)",
      "Bash(tree:*)",
      "Bash(dir:*)",
      "Bash(./gradlew :composeApp:compileDebugKotlinAndroid:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nfix\\(notifications\\): add time pickers and permission request UI\n\nFixes two critical missing features reported by user testing:\n\nFEATURE 1: TIME PICKER DIALOGS\n- Added Material3 TimePicker dialogs for wake up time and bedtime\n- Dialogs show when tapping time buttons in notification preferences\n- Supports 12-hour format with AM/PM \\(matches app UI\\)\n- Conversion logic between 12h and 24h formats\n- Time changes save immediately to repository and reschedule notifications\n\nFEATURE 2: NOTIFICATION PERMISSION REQUEST\n- Added expect/actual RequestNotificationPermissionIfNeeded composable\n- Android implementation requests POST_NOTIFICATIONS permission \\(Android 13+\\)\n- Permission dialog shows when user enables notifications\n- If denied, shows rationale dialog with button to open app settings\n- If permission denied, automatically disables notifications toggle\n- Android 12 and below: No runtime permission needed\n\nNEW FILES:\n- NotificationPermissionHandler.kt \\(expect declaration\\)\n- NotificationPermissionHandler.android.kt \\(actual implementation\\)\n\nUPDATES:\n- NotificationPreferencesEvent.kt: Added OnWakeUpTimeSelected, OnBedtimeSelected\n- NotificationPreferencesViewModel.kt: Handle time selection events\n- NotificationPreferencesScreen.kt: Added TimePickerDialog composable with time parsing/formatting helpers\n\nUI IMPROVEMENTS:\n- Time pickers use app''s Material3 theme\n- Clean time format conversion \\(07:00 AM ↔ 07:00 in 24h\\)\n- Smooth user flow: Enable → Request Permission → Schedule\n\nTESTING:\n✅ Compilation successful\n✅ Time picker dialogs functional\n✅ Permission flow implemented\n✅ Time changes persist to DataStore\n✅ Notifications reschedule on time change\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")"
    ]
  }
}
